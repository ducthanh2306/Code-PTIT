Báº¡n nÃ³i â€œgiáº£i thÃ­ch codeâ€ thÃ¬ mÃ¬nh giáº£i thÃ­ch chi tiáº¿t tá»«ng Ã½ nhÃ©.
(TrÆ°á»›c háº¿t: mÃ¬nh phÃ¡t hiá»‡n 1 dÃ²ng trong báº£n mÃ¬nh gá»­i cÃ³ thá»ƒ gÃ¢y sai â€” mÃ¬nh sá»­a luÃ´n á»Ÿ dÆ°á»›i rá»“i giáº£i thÃ­ch theo báº£n Ä‘Ãºng.)

âœ… Code DP Ä‘Ãºng (Ä‘Ã£ sá»­a nháº¹)
#include <bits/stdc++.h>
using namespace std;

int main() {
    ios::sync_with_stdio(false);
    cin.tie(nullptr);

    int t; 
    if (!(cin >> t)) return 0;
    while (t--) {
        int n; 
        cin >> n;
        vector<int> a(n);
        long long S = 0;
        for (int &x : a) { cin >> x; S += x; }

        if (S & 1LL) { cout << "NO\n"; continue; }   // tá»•ng láº» -> khÃ´ng thá»ƒ chia Ä‘Ã´i
        long long target_ll = S / 2;
        if (target_ll > INT_MAX) { cout << "NO\n"; continue; } // phÃ²ng kÃ­ch thÆ°á»›c quÃ¡ lá»›n
        int target = (int)target_ll;

        // dp[s] = cÃ³ thá»ƒ Ä‘áº¡t tá»•ng s (tá»« má»™t táº­p con cÃ¡c pháº§n tá»­ Ä‘áº§u Ä‘Ã£ xÃ©t) hay khÃ´ng
        vector<char> dp(target + 1, 0);
        dp[0] = 1; // tá»•ng 0 luÃ´n Ä‘áº¡t Ä‘Æ°á»£c: chá»n táº­p rá»—ng

        for (int x : a) {
            if (x > target) {        // pháº§n tá»­ lá»›n hÆ¡n target thÃ¬ khÃ´ng giÃºp táº¡o tá»•ng <= target
                // cá»© bá» qua x, vÃ¬ ta Ä‘ang tÃ¬m Ä‘Ãºng tá»•ng target
                continue;
            }
            // DUYá»†T NGÆ¯á»¢C Ä‘á»ƒ khÃ´ng dÃ¹ng má»™t pháº§n tá»­ nhiá»u láº§n
            for (int s = target; s >= x; --s) {
                if (dp[s - x]) dp[s] = 1;
            }
            if (dp[target]) break;   // cáº¯t sá»›m: Ä‘Ã£ Ä‘áº¡t Ä‘Ãºng target thÃ¬ in YES luÃ´n
        }
        cout << (dp[target] ? "YES" : "NO") << '\n';
    }
    return 0;
}

ğŸ§  Ã tÆ°á»Ÿng thuáº­t toÃ¡n (Subset Sum â†’ Partition)

Gá»i S lÃ  tá»•ng táº¥t cáº£ pháº§n tá»­. Muá»‘n chia máº£ng thÃ nh 2 pháº§n cÃ³ tá»•ng báº±ng nhau â‡” cÃ³ 1 táº­p con cÃ³ tá»•ng báº±ng S/2 (gá»i lÃ  target).

Náº¿u S láº» â‡’ target khÃ´ng nguyÃªn â‡’ khÃ´ng thá»ƒ â†’ in NO.

BÃ i toÃ¡n cÃ²n láº¡i: cÃ³ táº­p con nÃ o sum = target khÃ´ng? ÄÃ¢y lÃ  bÃ i Subset Sum cá»• Ä‘iá»ƒn.

ğŸ”§ CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a DP

dp[s] lÃ  boolean: cÃ³ thá»ƒ Ä‘áº¡t tá»•ng s hay khÃ´ng báº±ng cÃ¡ch chá»n má»™t sá»‘ pháº§n tá»­ Ä‘áº§u Ä‘Ã£ xÃ©t.

Khá»Ÿi táº¡o: dp[0] = 1 (tá»•ng 0 Ä‘áº¡t Ä‘Æ°á»£c báº±ng táº­p rá»—ng).

Khi xÃ©t pháº§n tá»­ x, ta cáº­p nháº­t:

for s tá»« target xuá»‘ng x:
    náº¿u dp[s - x] == 1  â†’  dp[s] = 1


NghÄ©a lÃ : náº¿u trÆ°á»›c Ä‘Ã³ cÃ³ thá»ƒ Ä‘áº¡t s - x, thÃ¬ bÃ¢y giá» thÃªm x vÃ o ta Ä‘áº¡t s.

VÃ¬ sao duyá»‡t ngÆ°á»£c (tá»« target vá» x)?

Äá»ƒ khÃ´ng dÃ¹ng láº¡i cÃ¹ng má»™t pháº§n tá»­ nhiá»u láº§n.
Náº¿u duyá»‡t xuÃ´i (tá»« x lÃªn target), dp[s] vá»«a Ä‘Æ°á»£c set cÃ³ thá»ƒ láº¡i Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ set tiáº¿p dp[s + x] trong cÃ¹ng vÃ²ng xÃ©t pháº§n tá»­ x, vÃ´ tÃ¬nh cho phÃ©p láº¥y x hÆ¡n 1 láº§n (sai vá»›i bÃ i â€œmá»—i pháº§n tá»­ dÃ¹ng tá»‘i Ä‘a 1 láº§nâ€).

âœ‚ï¸ Cáº¯t sá»›m

Náº¿u táº¡i báº¥t ká»³ thá»i Ä‘iá»ƒm nÃ o dp[target] == 1, nghÄ©a lÃ  Ä‘Ã£ cÃ³ táº­p con tá»•ng Ä‘Ãºng target â†’ in YES ngay cho testcase Ä‘Ã³.
Äiá»u nÃ y tiáº¿t kiá»‡m thá»i gian Ä‘Ã¡ng ká»ƒ trÃªn nhiá»u bá»™ dá»¯ liá»‡u.

ğŸ§¯ VÃ¬ sao bá» qua pháº§n tá»­ x > target?

VÃ¬ má»¥c tiÃªu lÃ  Ä‘Ãºng target. Náº¿u x > target, khÃ´ng cÃ³ cÃ¡ch cá»™ng thÃªm cÃ¡c sá»‘ khÃ´ng Ã¢m Ä‘á»ƒ tá»•ng váº«n báº±ng target khi Ä‘Ã£ láº¥y x (nÃ³ vÆ°á»£t rá»“i).

(Giáº£ thiáº¿t bÃ i nÃ y lÃ  cÃ¡c sá»‘ khÃ´ng Ã¢m â€” náº¿u cÃ³ sá»‘ Ã¢m thÃ¬ pháº£i dÃ¹ng hÆ°á»›ng khÃ¡c.)

â±ï¸ Äá»™ phá»©c táº¡p

Thá»i gian: O(n * target) vá»›i target = S/2.

Bá»™ nhá»›: O(target).

ğŸªª VÃ i dÃ²ng cÃ²n láº¡i trong main

ios::sync_with_stdio(false); cin.tie(nullptr); tÄƒng tá»‘c IO.

Nhiá»u test (t testcases): má»—i testcase Ä‘á»c n, máº£ng a, tÃ­nh S, cháº¡y DP, in YES/NO.

âš ï¸ Ghi chÃº vá» phiÃªn báº£n trÆ°á»›c

Trong báº£n trÆ°á»›c mÃ¬nh cÃ³ má»™t dÃ²ng:

if (x > target) x = target;


DÃ²ng nÃ y khÃ´ng Ä‘Ãºng: nÃ³ cÃ³ thá»ƒ khiáº¿n dp[target] bá»‹ set sai (vÃ¬ dp[target] sáº½ láº¥y tá»« dp[0] ngay khi cÃ³ pháº§n tá»­ nÃ o x > target), dáº«n Ä‘áº¿n tráº£ lá»i YES nháº§m. PhiÃªn báº£n á»Ÿ trÃªn Ä‘Ã£ sá»­a Ä‘Ãºng báº±ng cÃ¡ch bá» qua x náº¿u x > target.

Náº¿u báº¡n muá»‘n, mÃ¬nh cÃ³ thá»ƒ thÃªm:

Báº£n bitset (ráº¥t nhanh khi target khÃ´ng quÃ¡ lá»›n).

Báº£n meet-in-the-middle (khi n ~ 30â€“40, tá»•ng lá»›n).
